{"ast":null,"code":"import{useState,useEffect}from'react';import{motion}from'framer-motion';import Navbar from'../components/navbar';import HeroImage from'../assets/hero.svg';import{useNavigate}from'react-router-dom';import{supabase}from'../supabaseClient';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Landing=()=>{const[showOptions,setShowOptions]=useState(false);const[session,setSession]=useState(null);const navigate=useNavigate();// Check login session on load\nuseEffect(()=>{supabase.auth.getSession().then(_ref=>{let{data}=_ref;return setSession(data.session);});const{data:listener}=supabase.auth.onAuthStateChange((_event,session)=>{setSession(session);});return()=>listener.subscription.unsubscribe();},[]);// ✅ Secure navigation logic\nconst handleProtectedNavigation=async route=>{const{data}=await supabase.auth.getSession();if(data.session){// ✅ Logged in: allow route\nnavigate(route);}else{// ❌ Not logged in: trigger Google login\nawait supabase.auth.signInWithOAuth({provider:'google'});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center justify-between px-6 md:px-20 mt-20 max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"text-center md:text-left\",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.8},children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl md:text-5xl font-bold text-gray-800 leading-tight\",children:[\"Unlock Your \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:\"Career Potential\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-4 max-w-md\",children:\"Upload your resume to instantly view your ATS score and discover the jobs you're best suited for.\"}),!showOptions&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowOptions(true),className:\"inline-block mt-6 bg-gradient-to-r from-blue-600 to-blue-400 text-white px-6 py-3 rounded-lg shadow hover:scale-105 transition transform duration-200\",children:\"Get Started\"}),showOptions&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"flex flex-col md:flex-row gap-4 mt-8 items-center justify-center md:justify-start\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleProtectedNavigation('/upload'),className:\"bg-blue-600 text-white px-6 py-3 rounded-lg shadow hover:bg-blue-700 transition\",children:\"Know your Resume ATS Score\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleProtectedNavigation('/job-eligibility-upload'),className:\"bg-green-600 text-white px-6 py-3 rounded-lg shadow hover:bg-green-700 transition\",children:\"Know what kind of job you're eligible for\"})]})]}),/*#__PURE__*/_jsx(motion.div,{className:\"mt-10 md:mt-0\",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:0.9},children:/*#__PURE__*/_jsx(\"img\",{src:HeroImage,alt:\"ATS Illustration\",className:\"w-[300px] md:w-[450px]\"})})]})]});};export default Landing;","map":{"version":3,"names":["useState","useEffect","motion","Navbar","HeroImage","useNavigate","supabase","jsx","_jsx","jsxs","_jsxs","Landing","showOptions","setShowOptions","session","setSession","navigate","auth","getSession","then","_ref","data","listener","onAuthStateChange","_event","subscription","unsubscribe","handleProtectedNavigation","route","signInWithOAuth","provider","className","children","div","initial","opacity","y","animate","transition","duration","onClick","x","src","alt"],"sources":["D:/interview/python projects/resume-ats-analyzer/frontend/src/pages/landing.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport Navbar from '../components/navbar';\r\nimport HeroImage from '../assets/hero.svg';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nconst Landing = () => {\r\n  const [showOptions, setShowOptions] = useState(false);\r\n  const [session, setSession] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  // Check login session on load\r\n  useEffect(() => {\r\n    supabase.auth.getSession().then(({ data }) => setSession(data.session));\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session);\r\n    });\r\n    return () => listener.subscription.unsubscribe();\r\n  }, []);\r\n\r\n  // ✅ Secure navigation logic\r\n  const handleProtectedNavigation = async (route) => {\r\n    const { data } = await supabase.auth.getSession();\r\n\r\n    if (data.session) {\r\n      // ✅ Logged in: allow route\r\n      navigate(route);\r\n    } else {\r\n      // ❌ Not logged in: trigger Google login\r\n      await supabase.auth.signInWithOAuth({ provider: 'google' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100\">\r\n      <Navbar />\r\n      <div className=\"flex flex-col md:flex-row items-center justify-between px-6 md:px-20 mt-20 max-w-7xl mx-auto\">\r\n        {/* LEFT: Text Section */}\r\n        <motion.div\r\n          className=\"text-center md:text-left\"\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8 }}\r\n        >\r\n          <h1 className=\"text-4xl md:text-5xl font-bold text-gray-800 leading-tight\">\r\n            Unlock Your <span className=\"text-blue-600\">Career Potential</span>\r\n          </h1>\r\n          <p className=\"text-gray-600 mt-4 max-w-md\">\r\n            Upload your resume to instantly view your ATS score and discover the jobs you're best suited for.\r\n          </p>\r\n\r\n          {/* ✅ GET STARTED BUTTON */}\r\n          {!showOptions && (\r\n            <button\r\n              onClick={() => setShowOptions(true)}\r\n              className=\"inline-block mt-6 bg-gradient-to-r from-blue-600 to-blue-400 text-white px-6 py-3 rounded-lg shadow hover:scale-105 transition transform duration-200\"\r\n            >\r\n              Get Started\r\n            </button>\r\n          )}\r\n\r\n          {/* ✅ CONDITIONAL OPTIONS */}\r\n          {showOptions && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5 }}\r\n              className=\"flex flex-col md:flex-row gap-4 mt-8 items-center justify-center md:justify-start\"\r\n            >\r\n              <button\r\n                onClick={() => handleProtectedNavigation('/upload')}\r\n                className=\"bg-blue-600 text-white px-6 py-3 rounded-lg shadow hover:bg-blue-700 transition\"\r\n              >\r\n                Know your Resume ATS Score\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => handleProtectedNavigation('/job-eligibility-upload')}\r\n                className=\"bg-green-600 text-white px-6 py-3 rounded-lg shadow hover:bg-green-700 transition\"\r\n              >\r\n                Know what kind of job you're eligible for\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </motion.div>\r\n\r\n        {/* RIGHT: Hero Image */}\r\n        <motion.div\r\n          className=\"mt-10 md:mt-0\"\r\n          initial={{ opacity: 0, x: 50 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ duration: 0.9 }}\r\n        >\r\n          <img\r\n            src={HeroImage}\r\n            alt=\"ATS Illustration\"\r\n            className=\"w-[300px] md:w-[450px]\"\r\n          />\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}