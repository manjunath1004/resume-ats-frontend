{"ast":null,"code":"import{useDropzone}from'react-dropzone';import axios from'axios';import{useNavigate}from'react-router-dom';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobEligibilityUpload=()=>{const[file,setFile]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const{getRootProps,getInputProps}=useDropzone({accept:{'application/pdf':['.pdf']},maxFiles:1,onDrop:acceptedFiles=>{setError('');setFile(acceptedFiles[0]);}});const handleUpload=async()=>{if(!file){setError('Please select a PDF resume before uploading.');return;}setLoading(true);const formData=new FormData();formData.append('file',file);try{const res=await axios.post(`${process.env.REACT_APP_BACKEND_URL}/api/parse-resume`,formData,{headers:{'Content-Type':'multipart/form-data'}});if(res.status===200){localStorage.setItem('ats-result',JSON.stringify(res.data));navigate('/job-eligibility-result');}else{setError('Failed to analyze resume.');}}catch(err){console.error(err);setError('Backend not responding. Try again later.');}setLoading(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-600 to-blue-400 flex flex-col items-center justify-center p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded shadow-md w-full max-w-md text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-blue-700\",children:\"Upload Resume for Job Eligibility\"}),/*#__PURE__*/_jsxs(\"div\",{...getRootProps(),className:\"border-2 border-dashed border-gray-400 p-6 rounded cursor-pointer bg-gray-50\",children:[/*#__PURE__*/_jsx(\"input\",{...getInputProps()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Click or drag your resume PDF here\"}),file&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-green-600 font-semibold\",children:file.name})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mt-3\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:loading,className:\"mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition disabled:bg-gray-400\",children:loading?'Analyzing...':'Upload & Analyze'})]})});};export default JobEligibilityUpload;","map":{"version":3,"names":["useDropzone","axios","useNavigate","useState","jsx","_jsx","jsxs","_jsxs","JobEligibilityUpload","file","setFile","loading","setLoading","error","setError","navigate","getRootProps","getInputProps","accept","maxFiles","onDrop","acceptedFiles","handleUpload","formData","FormData","append","res","post","process","env","REACT_APP_BACKEND_URL","headers","status","localStorage","setItem","JSON","stringify","data","err","console","className","children","name","onClick","disabled"],"sources":["D:/interview/python projects/resume-ats-analyzer/frontend/src/pages/JobEligibilityUpload.jsx"],"sourcesContent":["import { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\n\r\nconst JobEligibilityUpload = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: { 'application/pdf': ['.pdf'] },\r\n    maxFiles: 1,\r\n    onDrop: (acceptedFiles) => {\r\n      setError('');\r\n      setFile(acceptedFiles[0]);\r\n    },\r\n  });\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      setError('Please select a PDF resume before uploading.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n              const res = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/api/parse-resume`, formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n\r\n\r\n      if (res.status === 200) {\r\n        localStorage.setItem('ats-result', JSON.stringify(res.data));\r\n        navigate('/job-eligibility-result');\r\n      } else {\r\n        setError('Failed to analyze resume.');\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError('Backend not responding. Try again later.');\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-600 to-blue-400 flex flex-col items-center justify-center p-6\">\r\n      <div className=\"bg-white p-8 rounded shadow-md w-full max-w-md text-center\">\r\n        <h1 className=\"text-2xl font-bold mb-4 text-blue-700\">Upload Resume for Job Eligibility</h1>\r\n        <div {...getRootProps()} className=\"border-2 border-dashed border-gray-400 p-6 rounded cursor-pointer bg-gray-50\">\r\n          <input {...getInputProps()} />\r\n          <p className=\"text-gray-600\">Click or drag your resume PDF here</p>\r\n          {file && <p className=\"mt-2 text-green-600 font-semibold\">{file.name}</p>}\r\n        </div>\r\n        {error && <p className=\"text-red-600 mt-3\">{error}</p>}\r\n        <button\r\n          onClick={handleUpload}\r\n          disabled={loading}\r\n          className=\"mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition disabled:bg-gray-400\"\r\n        >\r\n          {loading ? 'Analyzing...' : 'Upload & Analyze'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobEligibilityUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}