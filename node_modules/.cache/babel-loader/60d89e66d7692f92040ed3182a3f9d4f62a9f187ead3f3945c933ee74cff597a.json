{"ast":null,"code":"import{useEffect,useState}from'react';import{supabase}from'../supabaseClient';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[showModal,setShowModal]=useState(false);useEffect(()=>{const fetchSession=async()=>{const{data}=await supabase.auth.getSession();setIsLoggedIn(!!data.session);};fetchSession();const{data:listener}=supabase.auth.onAuthStateChange((_event,session)=>{setIsLoggedIn(!!session);});return()=>{listener.subscription.unsubscribe();};},[]);const handleLogin=async()=>{await supabase.auth.signInWithOAuth({provider:'google'});};const handleLogout=async()=>{setShowModal(true);// üëÄ show logout modal\nsetTimeout(async()=>{await supabase.auth.signOut();setIsLoggedIn(false);setShowModal(false);},2000);// ‚è±Ô∏è 2 second delay\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg text-center animate-fade-in-up\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:\"\\uD83D\\uDD12 Logging you out...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Please wait a moment\"})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"w-full px-8 py-4 flex justify-between items-center bg-white shadow relative z-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-blue-600\",children:\"Job Finder\"}),isLoggedIn?/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"text-red-500 font-medium hover:underline\",children:\"Logout\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"text-blue-500 font-medium hover:underline\",children:\"Login\"})]})]});};export default Navbar;","map":{"version":3,"names":["useEffect","useState","supabase","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","isLoggedIn","setIsLoggedIn","showModal","setShowModal","fetchSession","data","auth","getSession","session","listener","onAuthStateChange","_event","subscription","unsubscribe","handleLogin","signInWithOAuth","provider","handleLogout","setTimeout","signOut","children","className","onClick"],"sources":["D:/interview/python projects/resume-ats-analyzer/frontend/src/components/navbar.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      const { data } = await supabase.auth.getSession();\r\n      setIsLoggedIn(!!data.session);\r\n    };\r\n\r\n    fetchSession();\r\n\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setIsLoggedIn(!!session);\r\n    });\r\n\r\n    return () => {\r\n      listener.subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    await supabase.auth.signInWithOAuth({ provider: 'google' });\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    setShowModal(true); // üëÄ show logout modal\r\n    setTimeout(async () => {\r\n      await supabase.auth.signOut();\r\n      setIsLoggedIn(false);\r\n      setShowModal(false);\r\n    }, 2000); // ‚è±Ô∏è 2 second delay\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Page Blur + Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg text-center animate-fade-in-up\">\r\n            <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">üîí Logging you out...</h2>\r\n            <p className=\"text-sm text-gray-500\">Please wait a moment</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Navbar */}\r\n      <nav className=\"w-full px-8 py-4 flex justify-between items-center bg-white shadow relative z-10\">\r\n        <h1 className=\"text-xl font-bold text-blue-600\">Job Finder</h1>\r\n        {isLoggedIn ? (\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"text-red-500 font-medium hover:underline\"\r\n          >\r\n            Logout\r\n          </button>\r\n        ) : (\r\n          <button\r\n            onClick={handleLogin}\r\n            className=\"text-blue-500 font-medium hover:underline\"\r\n          >\r\n            Login\r\n          </button>\r\n        )}\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,QAAQ,KAAQ,mBAAmB,CAC5C,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEjDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAd,QAAQ,CAACe,IAAI,CAACC,UAAU,CAAC,CAAC,CACjDN,aAAa,CAAC,CAAC,CAACI,IAAI,CAACG,OAAO,CAAC,CAC/B,CAAC,CAEDJ,YAAY,CAAC,CAAC,CAEd,KAAM,CAAEC,IAAI,CAAEI,QAAS,CAAC,CAAGlB,QAAQ,CAACe,IAAI,CAACI,iBAAiB,CAAC,CAACC,MAAM,CAAEH,OAAO,GAAK,CAC9EP,aAAa,CAAC,CAAC,CAACO,OAAO,CAAC,CAC1B,CAAC,CAAC,CAEF,MAAO,IAAM,CACXC,QAAQ,CAACG,YAAY,CAACC,WAAW,CAAC,CAAC,CACrC,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAvB,QAAQ,CAACe,IAAI,CAACS,eAAe,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC7D,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/Bd,YAAY,CAAC,IAAI,CAAC,CAAE;AACpBe,UAAU,CAAC,SAAY,CACrB,KAAM,CAAA3B,QAAQ,CAACe,IAAI,CAACa,OAAO,CAAC,CAAC,CAC7BlB,aAAa,CAAC,KAAK,CAAC,CACpBE,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,IAAI,CAAC,CAAE;AACZ,CAAC,CAED,mBACEP,KAAA,CAAAE,SAAA,EAAAsB,QAAA,EAEGlB,SAAS,eACRR,IAAA,QAAK2B,SAAS,CAAC,6FAA6F,CAAAD,QAAA,cAC1GxB,KAAA,QAAKyB,SAAS,CAAC,kEAAkE,CAAAD,QAAA,eAC/E1B,IAAA,OAAI2B,SAAS,CAAC,0CAA0C,CAAAD,QAAA,CAAC,iCAAqB,CAAI,CAAC,cACnF1B,IAAA,MAAG2B,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,sBAAoB,CAAG,CAAC,EAC1D,CAAC,CACH,CACN,cAGDxB,KAAA,QAAKyB,SAAS,CAAC,kFAAkF,CAAAD,QAAA,eAC/F1B,IAAA,OAAI2B,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAAC,YAAU,CAAI,CAAC,CAC9DpB,UAAU,cACTN,IAAA,WACE4B,OAAO,CAAEL,YAAa,CACtBI,SAAS,CAAC,0CAA0C,CAAAD,QAAA,CACrD,QAED,CAAQ,CAAC,cAET1B,IAAA,WACE4B,OAAO,CAAER,WAAY,CACrBO,SAAS,CAAC,2CAA2C,CAAAD,QAAA,CACtD,OAED,CAAQ,CACT,EACE,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAArB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}