{"ast":null,"code":"import{useEffect,useState}from'react';import{supabase}from'../supabaseClient';import{jsx as _jsx}from\"react/jsx-runtime\";const LoginButton=()=>{const[session,setSession]=useState(null);useEffect(()=>{supabase.auth.getSession().then(_ref=>{let{data}=_ref;return setSession(data.session);});const{data:listener}=supabase.auth.onAuthStateChange((_event,session)=>{setSession(session);});return()=>listener.subscription.unsubscribe();},[]);const handleLogin=async()=>{await supabase.auth.signInWithOAuth({provider:'google'});};const handleLogout=async()=>{await supabase.auth.signOut();setSession(null);};return session?/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"text-white bg-red-600 px-4 py-2 rounded\",children:\"Logout\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"text-white bg-blue-600 px-4 py-2 rounded\",children:\"Login\"});};export default LoginButton;","map":{"version":3,"names":["useEffect","useState","supabase","jsx","_jsx","LoginButton","session","setSession","auth","getSession","then","_ref","data","listener","onAuthStateChange","_event","subscription","unsubscribe","handleLogin","signInWithOAuth","provider","handleLogout","signOut","onClick","className","children"],"sources":["D:/interview/python projects/resume-ats-analyzer/frontend/src/pages/login.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nconst LoginButton = () => {\r\n  const [session, setSession] = useState(null);\r\n\r\n  useEffect(() => {\r\n    supabase.auth.getSession().then(({ data }) => setSession(data.session));\r\n\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session);\r\n    });\r\n\r\n    return () => listener.subscription.unsubscribe();\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    await supabase.auth.signInWithOAuth({ provider: 'google' });\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    setSession(null);\r\n  };\r\n\r\n  return session ? (\r\n    <button onClick={handleLogout} className=\"text-white bg-red-600 px-4 py-2 rounded\">\r\n      Logout\r\n    </button>\r\n  ) : (\r\n    <button onClick={handleLogin} className=\"text-white bg-blue-600 px-4 py-2 rounded\">\r\n      Login\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LoginButton;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,QAAQ,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE7C,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdE,QAAQ,CAACM,IAAI,CAACC,UAAU,CAAC,CAAC,CAACC,IAAI,CAACC,IAAA,MAAC,CAAEC,IAAK,CAAC,CAAAD,IAAA,OAAK,CAAAJ,UAAU,CAACK,IAAI,CAACN,OAAO,CAAC,GAAC,CAEvE,KAAM,CAAEM,IAAI,CAAEC,QAAS,CAAC,CAAGX,QAAQ,CAACM,IAAI,CAACM,iBAAiB,CAAC,CAACC,MAAM,CAAET,OAAO,GAAK,CAC9EC,UAAU,CAACD,OAAO,CAAC,CACrB,CAAC,CAAC,CAEF,MAAO,IAAMO,QAAQ,CAACG,YAAY,CAACC,WAAW,CAAC,CAAC,CAClD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAhB,QAAQ,CAACM,IAAI,CAACW,eAAe,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC7D,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAnB,QAAQ,CAACM,IAAI,CAACc,OAAO,CAAC,CAAC,CAC7Bf,UAAU,CAAC,IAAI,CAAC,CAClB,CAAC,CAED,MAAO,CAAAD,OAAO,cACZF,IAAA,WAAQmB,OAAO,CAAEF,YAAa,CAACG,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,QAEnF,CAAQ,CAAC,cAETrB,IAAA,WAAQmB,OAAO,CAAEL,WAAY,CAACM,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,OAEnF,CAAQ,CACT,CACH,CAAC,CAED,cAAe,CAAApB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}